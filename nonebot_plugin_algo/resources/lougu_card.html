<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Luogu User Card</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; width: 640px; background: #207cd8; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'PingFang SC', 'Microsoft YaHei', sans-serif; color: #2d2619; }

    .canvas { width: 640px; min-height: 640px; padding: 24px; display: flex; flex-direction: column; align-items: center; }

    .header { width: 100%; display: flex; justify-content: center; margin-top: 8px; }
    .avatar { width: 128px; height: 128px; border-radius: 32px; object-fit: cover; background: #fff8e1; box-shadow: 0 6px 20px rgba(0,0,0,.15); border: 4px solid rgba(255,255,255,.35); }
    .name-row { margin-top: 12px; display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; }
    .name { margin-top: 0; font-size: 36px; font-weight: 900; letter-spacing: .5px; color: #ffffff; text-shadow: 0 2px 0 rgba(0,0,0,.08); }
    .name-badge { display: inline-block; padding: 4px 8px; border-radius: 10px; font-size: 12px; font-weight: 800; letter-spacing: .2px; }
    .sub { margin-top: 6px; font-size: 14px; color: rgba(255,255,255,.9); max-width: 24em; text-align: center; white-space: normal; word-break: break-word; overflow-wrap: anywhere; line-height: 1.4; }

    .levels { margin-top: 16px; display: flex; gap: 16px; }
    .level { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; background: rgba(255,255,255,.18); color: #fff; border-radius: 14px; font-weight: 700; font-size: 14px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.25); }

    .panel { margin-top: 22px; width: 92%; background: rgba(255,255,255,.2); border-radius: 16px; padding: 18px; backdrop-filter: blur(1px); box-shadow: inset 0 0 0 1px rgba(255,255,255,.22); }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px 14px; }
    .cell { background: rgba(255,255,255,.25); border-radius: 12px; padding: 12px 14px; color: #2d2619; }
    .cell .label { font-size: 13px; opacity: .85; font-family: 'Inter', 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif; letter-spacing: .2px; }
    .cell .value { margin-top: 6px; font-size: 22px; font-weight: 900; }
    .bars { margin-top: 10px; background: rgba(255,255,255,.22); border-radius: 12px; padding: 12px; }
    .bar { display: flex; align-items: center; gap: 10px; margin: 6px 0; }
    .bar .tag { width: 98px; font-size: 12px; font-weight: 700; color: #fff; text-align: right; }
    .bar .track { flex: 1; height: 14px; background: rgba(255,255,255,.35); border-radius: 8px; overflow: hidden; }
    .bar .fill { height: 100%; border-radius: 8px; width: var(--w, 0%); background: var(--c, #fff); }
    .bar .value { font-size: 14px; font-weight: 700; color: #fff; }

    .footer { margin-top: auto; font-size: 12px; color: rgba(255,255,255,.9); }
  </style>
</head>

<body>
  <div class="canvas">
    <div class="header">
      <img class="avatar" src="{{avatar}}" alt="avatar" />
    </div>
    <div class="name-row">
      <div class="name">{{ name_styled|safe }}</div>
      {% if name_badge %}{{ name_badge|safe }}{% endif %}
    </div>
    <div class="sub">UID: {{uid}}</div>
    <div class="sub">{{slogan}}</div>
    <div class="levels">
      <div class="level">üìà Ranking: {{ranking}}</div>
      <div class="level">‚≠ê ELO: {{elo}}</div>
    </div>

    <div class="panel">
      <div class="grid">
        <div class="cell"><div class="label">‚úÖ ÂÅöÈ¢òÊï∞</div><div class="value">{{passed}}</div></div>
        <div class="cell"><div class="label">üìñ Êèê‰∫§È¢òÁõÆÊï∞</div><div class="value">{{submitted}}</div></div>
        <div class="cell"><div class="label">üë• ÂÖ≥Ê≥® / Á≤â‰∏ù</div><div class="value">{{following}} / {{followers}}</div></div>
        <div class="cell"><div class="label">‚úâÔ∏è ÈÇÆÁÆ±</div><div class="value" style="font-size:16px; font-weight:700;">{{email}}</div></div>
        <div class="cell" style="grid-column: 1 / span 2">
          <div class="label">üèÖ Ëé∑Â•ñ‰ø°ÊÅØ</div>
          <div class="value" style="font-size:16px; font-weight:700; line-height:1.5; white-space:normal; word-break:break-word;">
            {% if prize_rows and prize_rows|length > 0 %}
              {% for r in prize_rows %}
              <div style="display:flex; justify-content:space-between; gap:12px;">
                <div>{{ r.left }}</div>
                <div>{{ r.right_html|safe }}</div>
              </div>
              {% endfor %}
            {% else %}
              <div>ÊöÇÊó†ËÆ∞ÂΩï</div>
            {% endif %}
          </div>
        </div>
        <div class="cell" style="grid-column: 1 / span 2">
          <div class="label">üìä Êèê‰∫§ÊÉÖÂÜµ</div>
          <div class="bars">
            {% for b in diff_bars %}
            <div class="bar">
              <div class="tag">{{ b.label }}</div>
              <div class="track"><div class="fill" style="--w: {{ b.width }}%; --c: {{ b.color }};"></div></div>
              <div class="value">{{ b.value }}</div>
            </div>
            {% endfor %}
          </div>
        </div>
        
      </div>
    </div>

    <div class="footer">Created by Tabris_ZX</div>
  </div>
</body>

</html>